"use strict";(self.webpackChunkaci_presale_site=self.webpackChunkaci_presale_site||[]).push([[337],{337:(e,t,n)=>{n.r(t),n.d(t,{default:()=>J});var s=n(9950),a=n(8747),i=n(24399),r=n(60074),o=n(43236);let l=!1;const d=function(e){return(0,r.lY)(e)};let c=d;function u(e){const t=(0,o.q5)(e,"data");return(0,o.c$)(c(t))}u._=d,u.lock=function(){l=!0},u.register=function(e){if(l)throw new TypeError("keccak256 is locked");c=e},Object.freeze(u);var m=n(49099);const g=BigInt(0),p=BigInt(36);function b(e){const t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let a=0;a<40;a++)n[a]=t[a].charCodeAt(0);const s=(0,o.q5)(u(n));for(let a=0;a<40;a+=2)s[a>>1]>>4>=8&&(t[a]=t[a].toUpperCase()),(15&s[a>>1])>=8&&(t[a+1]=t[a+1].toUpperCase());return"0x"+t.join("")}const x={};for(let W=0;W<10;W++)x[String(W)]=String(W);for(let W=0;W<26;W++)x[String.fromCharCode(65+W)]=String(10+W);const h=15;function f(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>x[e]).join("");for(;t.length>=h;){let e=t.substring(0,h);t=parseInt(e,10)%97+t.substring(e.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}const y=function(){const e={};for(let t=0;t<36;t++){e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t)}return e}();function v(e){if((0,m.MR)("string"===typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=b(e);return(0,m.MR)(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){(0,m.MR)(e.substring(2,4)===f(e),"bad icap checksum","address",e);let t=function(e){e=e.toLowerCase();let t=g;for(let n=0;n<e.length;n++)t=t*p+y[e[n]];return t}(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return b("0x"+t)}(0,m.MR)(!1,"invalid address","address",e)}function w(e){try{return v(e),!0}catch(t){}return!1}var k=n(88854),N=n(67818),j=n(52440),S=n(65566);const I=JSON.parse('[{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"stakes","outputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"lastRewardTimestamp","type":"uint256"},{"internalType":"uint256","name":"rewards","type":"uint256"},{"internalType":"uint256","name":"stakeTimestamp","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"getPendingRewards","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"annualRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lockPeriod","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"secondsInYear","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"stake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unstake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"claimRewards","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),M=JSON.parse('[{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"}]');var B,C,A,T,E,F=n(21874);const L=null!==(B="0xb151450F16Efef1F312D72E740Ca4b54698755cD")?B:"0xb151450F16Efef1F312D72E740Ca4b54698755cD",R=null!==(C="0x8257194Ae124EDEA0E434a3D1479e52C5a5C59C4")?C:"0x8257194Ae124EDEA0E434a3D1479e52C5a5C59C4",$=Number(null!==(A=null!=="1"?"1":F.q.chainId)&&void 0!==A?A:1),q={contractAddress:L,tokenAddress:R,token:R,chainId:Number.isFinite($)?$:1,minAmount:Number("0")};T=null!==(E="Ethereum Mainnet")?E:"Ethereum Mainnet";var P=n(44414);const D=12e9;function J(){const{t:e}=(0,N.Bd)(),{address:t,isConnected:n}=(0,i.F7)(),{chain:r}=(0,i.AE)(),{switchNetwork:o,isLoading:l}=(0,i.YO)({chainId:q.chainId}),[d,c]=(0,s.useState)(""),[u,m]=(0,s.useState)(null),[g,p]=(0,s.useState)(!1),b=q.contractAddress,x=q.tokenAddress,h=(0,i.eH)({chainId:q.chainId}),{data:f}=(0,i.GT)({chainId:q.chainId}),y=(0,s.useMemo)(()=>Boolean(b&&w(b)),[b]),v=(0,s.useMemo)(()=>Boolean(x&&w(x)),[x]),B=(null===r||void 0===r?void 0:r.id)===q.chainId,C=(0,s.useMemo)(()=>D.toLocaleString(void 0,{maximumFractionDigits:0}),[]),{data:A,refetch:T}=(0,i.qx)({address:y?b:void 0,abi:I,functionName:"stakes",args:t?[t]:void 0,chainId:q.chainId,query:{enabled:Boolean(t)&&y},watch:Boolean(t)&&y}),{data:E,refetch:F}=(0,i.qx)({address:y?b:void 0,abi:I,functionName:"getPendingRewards",args:t?[t]:void 0,chainId:q.chainId,query:{enabled:Boolean(t)&&y},watch:Boolean(t)&&y}),{data:L}=(0,i.qx)({address:y?b:void 0,abi:I,functionName:"annualRate",chainId:q.chainId,query:{enabled:y}}),{data:R}=(0,i.qx)({address:y?b:void 0,abi:I,functionName:"lockPeriod",chainId:q.chainId,query:{enabled:y}}),$=Boolean(t)&&v&&B,{data:J,status:W,error:Y}=(0,i.qx)({address:v?x:void 0,abi:M,functionName:"decimals",chainId:q.chainId,query:{enabled:v}}),{data:z,status:X,error:H,refetch:G}=(0,i.qx)({address:$?x:void 0,abi:M,functionName:"balanceOf",args:$?[t]:void 0,chainId:q.chainId,query:{enabled:$},watch:$}),{data:K,status:V,error:Z}=(0,i.qx)({address:v?x:void 0,abi:M,functionName:"balanceOf",args:v&&y?[b]:void 0,chainId:q.chainId,query:{enabled:v&&y},watch:v&&y}),{data:Q,status:ee,error:te,refetch:ne}=(0,i.qx)({address:v?x:void 0,abi:M,functionName:"allowance",args:t&&v&&y?[t,b]:void 0,chainId:q.chainId,query:{enabled:Boolean(t)&&v&&y&&B},watch:Boolean(t)&&v&&y&&B}),se=(0,s.useMemo)(()=>{if(!A)return 0n;var e;if("object"===typeof A&&"amount"in A)return null!==(e=A.amount)&&void 0!==e?e:0n;if(Array.isArray(A)){var t;const e=null!==(t=A[0])&&void 0!==t?t:0n;try{return"bigint"===typeof e?e:BigInt(e)}catch{return 0n}}return 0n},[A]),ae=(0,s.useMemo)(()=>{if("bigint"===typeof E)return E;if(!E)return 0n;try{return BigInt(E)}catch{return 0n}},[E]),ie=(0,s.useMemo)(()=>{if("bigint"===typeof Q)return Q;if(!Q)return 0n;try{return BigInt(Q)}catch{return 0n}},[Q]),re=(0,s.useMemo)(()=>{if(null==J)return 18;if("number"===typeof J)return J;if("bigint"===typeof J)return Number(J);const e=Number(J);return Number.isFinite(e)?e:18},[J]),oe=(0,s.useMemo)(()=>{var e;return null!==(e=null!=="0"?"0":undefined)&&void 0!==e?e:"0"},[]),le=Number.isFinite(re)?re:18,de=(0,s.useMemo)(()=>{try{return(0,k.XS)(String(oe||"0"),le)}catch{return 0n}},[oe,le]),ce=(0,s.useMemo)(()=>{try{const e=Number((0,k.Js)(de,le));return Number.isFinite(e)?e.toLocaleString(void 0,{maximumFractionDigits:4}):"0"}catch{return"0"}},[de,le]),ue=(0,s.useMemo)(()=>{const e=(null!==d&&void 0!==d?d:"").replace(",",".").trim();if(!e)return 0n;try{const t=(0,k.XS)(e,le);return t>0n?t:0n}catch{return 0n}},[d,le]),me=ue>0n,ge=me&&ue<de,pe=me&&ue>=de,be=(0,s.useMemo)(()=>{if("bigint"===typeof z)return z;if(null==z)return 0n;try{return BigInt(z)}catch{return 0n}},[z]),xe=(0,s.useMemo)(()=>{if("bigint"===typeof K)return K;if(null==K)return 0n;try{return BigInt(K)}catch{return 0n}},[K]),he=(0,s.useMemo)(()=>{try{return(0,k.Js)(null!==se&&void 0!==se?se:0n,le)}catch{return"0"}},[se,le]),fe=(0,s.useMemo)(()=>{try{return(0,k.Js)(null!==ae&&void 0!==ae?ae:0n,le)}catch{return"0"}},[ae,le]),ye="success"===W&&null==Y,ve="success"===X&&null==H,we="success"===ee&&null==te,ke="success"===V&&null==Z,Ne=Boolean(f),je=!!ve&&be>=ue,Se=!!we&&ie>=ue,Ie=we&&!Se&&ue>0n,Me=ye&&ve?(0,k.Js)(be,le):null,Be=de>0n,Ce=B&&Ne&&ue>0n&&!ge&&we&&!Se,Ae=B&&Ne&&ue>0n&&!ge&&ve&&we&&je&&Se,Te=(0,s.useMemo)(()=>{const e=Number(he);return!Number.isFinite(e)||D<=0?"0.00":(e/D*100).toFixed(2)},[he]),Ee=(0,s.useMemo)(()=>{const e=parseFloat(fe);return Number.isFinite(e)?(e/365).toFixed(2):"0.00"},[fe]),Fe=(0,s.useMemo)(()=>{if(null==L)return 0;const e=Number(L);return Number.isFinite(e)?e/100:0},[L]),Le=(0,s.useMemo)(()=>Fe.toFixed(2),[Fe]),Re=(0,s.useMemo)(()=>(3*Fe).toFixed(2),[Fe]),$e=(0,s.useMemo)(()=>{if(!R)return 0;const e=Number(R);return Number.isFinite(e)&&0!==e?Math.floor(e/86400):0},[R]),qe=(0,s.useMemo)(()=>{const e=Number(he);return Number.isFinite(e)?e.toLocaleString(void 0,{maximumFractionDigits:4}):he},[he]),Pe=(0,s.useMemo)(()=>{const e=Number(fe);return Number.isFinite(e)?e.toLocaleString(void 0,{maximumFractionDigits:4}):fe},[fe]),De=(0,s.useMemo)(()=>{if(null==Me)return null;const e=Number(Me);return Number.isFinite(e)?e.toLocaleString(void 0,{maximumFractionDigits:4}):Me},[Me]),Je=(0,s.useMemo)(()=>{if(!ke)return"0";try{const e=Number((0,k.Js)(xe,le));return Number.isFinite(e)?e.toLocaleString(void 0,{maximumFractionDigits:4}):"0"}catch{return"0"}},[ke,xe,le]),Oe=(0,s.useMemo)(()=>{const t=[e("statCurrentRewardSub",{daily:Ee})];return ke&&t.push(e("statContractBalanceSub",{balance:Je})),t.join(" \u2022 ")},[e,Ee,ke,Je]),_e=(0,s.useMemo)(()=>null!==Me&&void 0!==Me?Me:null,[Me]),Ue=(0,s.useMemo)(()=>{if(!we)return null;try{return(0,k.Js)(ie,le)}catch{return null}},[we,ie,le]),We=(0,s.useMemo)(()=>he,[he]),Ye=(0,s.useCallback)(e=>{if(null==e||""===e)return"0\u202fACI";const t=Number(e);if(Number.isFinite(t)){return`${t.toLocaleString(void 0,{maximumFractionDigits:4}).replace(/\s/g,"\u202f")}\u202fACI`}return`${String(e).replace(/\s/g,"\u202f")}\u202fACI`},[]),ze=(0,s.useCallback)(()=>{null===T||void 0===T||T(),null===F||void 0===F||F(),null===ne||void 0===ne||ne(),null===G||void 0===G||G()},[T,F,ne,G]),{config:Xe}=(0,i.i8)({address:v?x:void 0,abi:M,functionName:"approve",args:ue>0n&&y?[b,ue]:void 0,chainId:q.chainId,enabled:Boolean(t)&&B&&ue>0n&&pe&&v&&f}),{writeAsync:He,data:Ge,isLoading:Ke,error:Ve}=(0,i.t4)(Xe),{isLoading:Ze}=(0,i.gJ)({hash:null===Ge||void 0===Ge?void 0:Ge.hash,enabled:Boolean(null===Ge||void 0===Ge?void 0:Ge.hash),onSuccess:()=>{m({type:"success",message:e("stakingApproveSuccess")}),null===ne||void 0===ne||ne()},onError:t=>{m({type:"error",message:(null===t||void 0===t?void 0:t.shortMessage)||(null===t||void 0===t?void 0:t.message)||e("stakingError")})}}),Qe=Boolean(t)&&y&&pe&&je&&!Ie&&B&&f&&ye&&we&&ve,{config:et}=(0,i.i8)({address:y?b:void 0,abi:I,functionName:"stake",args:Qe&&ue>0n?[ue]:void 0,chainId:q.chainId,enabled:Qe}),{writeAsync:tt,data:nt,isLoading:st,error:at}=(0,i.t4)(et),it=Ce&&Boolean(He),rt=Ae&&Boolean(tt),{isLoading:ot}=(0,i.gJ)({hash:null===nt||void 0===nt?void 0:nt.hash,enabled:Boolean(null===nt||void 0===nt?void 0:nt.hash),onSuccess:()=>{m({type:"success",message:e("stakingStakeSuccess")}),c(""),ze()},onError:t=>{m({type:"error",message:(null===t||void 0===t?void 0:t.shortMessage)||(null===t||void 0===t?void 0:t.message)||e("stakingError")})}}),{config:lt}=(0,i.i8)({address:y?b:void 0,abi:I,functionName:"unstake",chainId:q.chainId,enabled:Boolean(t)&&B&&y&&se>0n}),{write:dt,data:ct,isLoading:ut,error:mt}=(0,i.t4)(lt),{isLoading:gt}=(0,i.gJ)({hash:null===ct||void 0===ct?void 0:ct.hash,enabled:Boolean(null===ct||void 0===ct?void 0:ct.hash),onSuccess:()=>{m({type:"success",message:e("stakingUnstakeSuccess")}),ze()},onError:t=>{m({type:"error",message:(null===t||void 0===t?void 0:t.shortMessage)||(null===t||void 0===t?void 0:t.message)||e("stakingError")})}}),{config:pt}=(0,i.i8)({address:y?b:void 0,abi:I,functionName:"claimRewards",chainId:q.chainId,enabled:Boolean(t)&&B&&y&&ae>0n}),{write:bt,data:xt,isLoading:ht,error:ft}=(0,i.t4)(pt),{isLoading:yt}=(0,i.gJ)({hash:null===xt||void 0===xt?void 0:xt.hash,enabled:Boolean(null===xt||void 0===xt?void 0:xt.hash),onSuccess:()=>{m({type:"success",message:e("stakingClaimSuccess")}),ze()},onError:t=>{m({type:"error",message:(null===t||void 0===t?void 0:t.shortMessage)||(null===t||void 0===t?void 0:t.message)||e("stakingError")})}});(0,s.useEffect)(()=>{const t=[Ve,at,mt,ft].find(Boolean);t&&m({type:"error",message:(null===t||void 0===t?void 0:t.shortMessage)||(null===t||void 0===t?void 0:t.message)||e("stakingError")})},[Ve,at,mt,ft,e]);const vt=Ke||Ze||st||ot||g||ut||gt||ht||yt,wt=vt||!it&&!rt,kt=e(vt?"stakingProcessing":Se?"stakeButton":"stakingApproveButton");let Nt=null;wt&&!vt&&(t?B?Ne&&h?ye&&ve&&we?me?ge?Nt="amount":je?(Ce&&!it||Ae&&!rt)&&(Nt="loading"):Nt="balance":Nt="amount":Nt="loading":Nt="signer":Nt="network":Nt="connect");const jt={connect:e("stakingConnectPrompt"),network:e("stakingNetworkMismatch"),signer:e("stakingSignerMissing"),loading:e("stakingBalanceLoading"),amount:e("stakingEnterAmount",{min:ce}),balance:e("stakingInsufficientBalance"),pending:e("stakingProcessing")},St=Nt?jt[Nt]:vt?e("stakingProcessing"):null,It="loading"===Nt||!Nt&&vt?"text-emerald-300":"text-rose-400";(0,s.useEffect)(()=>{var e;const n=it||rt,s=ue.toString(),a=ve?be.toString():String(X),i=we?ie.toString():String(ee);console.info(`[ACI/Staking] chain=${null!==(e=null===r||void 0===r?void 0:r.id)&&void 0!==e?e:"n/a"} user=${null!==t&&void 0!==t?t:"n/a"} token=${q.token} staking=${b} pool=0 amountWei=${s} minWei=${de.toString()} bal=${a} allow=${i} ready=${n}`)},[null===r||void 0===r?void 0:r.id,t,b,0,ue,de,be,X,ie,ee,it,rt,ve,we]);const Mt=[];y||Mt.push(e("stakingConfigErrorContract")),x&&!v&&Mt.push(e("stakingConfigErrorToken"));const Bt=ke&&ae>0n&&xe<ae,Ct=!n,At=n&&!B;return(0,P.jsx)(j.A,{children:(0,P.jsx)("div",{className:"min-h-screen px-4 pt-6 pb-16 text-white sm:px-8 sm:pt-8 lg:pt-10",children:(0,P.jsxs)("div",{className:"mx-auto max-w-6xl space-y-10",children:[(0,P.jsxs)("header",{className:"space-y-4 text-center",children:[(0,P.jsx)("h1",{className:"text-3xl font-bold tracking-tight sm:text-4xl",children:e("stakingTitle")}),(0,P.jsx)("p",{className:"mx-auto max-w-2xl text-sm text-white/70 sm:text-base",children:e("stakingDesc")})]}),(0,P.jsxs)("div",{className:"mx-auto max-w-3xl space-y-3",children:[Ct&&(0,P.jsx)(S.A,{type:"info",message:e("stakingConnectPrompt")}),At&&(0,P.jsx)(S.A,{type:"error",children:(0,P.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,P.jsx)("span",{children:e("stakingNetworkMismatch")}),o&&(0,P.jsx)("button",{onClick:()=>null===o||void 0===o?void 0:o(q.chainId),disabled:l||vt,className:"inline-flex items-center justify-center rounded-full bg-[#10b981] px-4 py-2 text-sm font-semibold text-black transition hover:bg-[#00fff7] disabled:cursor-not-allowed disabled:opacity-60",children:e(l?"networkSwitching":"networkSwitch")})]})}),Mt.map(e=>(0,P.jsx)(S.A,{type:"error",message:e},e)),Bt&&(0,P.jsx)(S.A,{type:"warning",message:e("stakingContractBalanceWarning",{balance:Je})}),u&&(0,P.jsx)(S.A,{type:u.type,message:u.message})]}),(0,P.jsx)("div",{className:"flex flex-col gap-6",children:(0,P.jsxs)("div",{className:"rounded-3xl border border-[#10b981]/40 bg-gradient-to-br from-[#10b981]/20 via-black/50 to-black/80 p-6 sm:p-8 shadow-2xl shadow-[#10b981]/20",children:[(0,P.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"text-xs uppercase tracking-[0.45em] text-emerald-200/80",children:"ACI"}),(0,P.jsx)("h2",{className:"mt-1 text-2xl font-semibold text-emerald-100",children:e("statStakedTitle")})]}),(0,P.jsxs)("div",{className:"flex flex-col items-start gap-3 sm:items-end",children:[(0,P.jsx)(a.pK,{chainStatus:"icon",accountStatus:"address",showBalance:!1}),$e>0&&(0,P.jsx)("span",{className:"rounded-full border border-[#10b981]/60 bg-black/30 px-4 py-1 text-xs text-emerald-200",children:e("stakingLockPeriod",{days:$e})})]})]}),n&&(0,P.jsxs)("div",{className:"mt-6 grid w-full grid-cols-1 gap-4 sm:grid-cols-3",children:[(0,P.jsx)(U,{title:"Solde ACI disponible",value:Ye(_e)}),(0,P.jsx)(U,{title:"Allowance",value:Ye(Ue)}),(0,P.jsx)(U,{title:"Solde stak\xe9",value:Ye(We)})]}),(0,P.jsxs)("div",{className:"mt-6 grid w-full grid-cols-1 gap-4 sm:grid-cols-3",children:[(0,P.jsx)(_,{label:e("statStakedTitle"),value:`${qe} ACI`,sub:Te?e("statPoolPercentSub",{staked:qe,cap:C}):void 0}),(0,P.jsx)(_,{label:e("statTotalRewardTitle"),value:`${Pe} ACI`,sub:Oe}),(0,P.jsx)(_,{label:e("statRateTitle"),value:`${Le}%`,sub:e("statRateSub",{rateYear:Le,rateThree:Re})})]}),(0,P.jsxs)("div",{className:"mt-8 flex flex-col items-center gap-4 rounded-2xl border border-[#10b981]/35 bg-black/60 px-6 py-6 text-center shadow-lg shadow-[#10b981]/10",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("h3",{className:"text-lg font-semibold text-emerald-200 text-balance",children:e("stakingBalanceTitle")}),(0,P.jsx)("p",{className:"mt-2 text-sm text-white/70 leading-relaxed text-balance",children:null!=De?e("stakingBalanceValue",{balance:De}):e("pending"===X||"pending"===W?"stakingBalanceLoading":"stakingBalanceUnknown")}),Be&&(0,P.jsx)("p",{className:"mt-1 text-xs text-white/50 leading-relaxed",children:e("stakingMinLabel",{min:ce})})]}),(0,P.jsxs)("div",{className:"w-full max-w-md flex flex-col gap-3 sm:flex-row sm:justify-center",children:[(0,P.jsx)("button",{onClick:()=>{!bt||ht||yt||(m({type:"info",message:e("stakingTxSubmitted")}),bt())},disabled:!bt||vt||0n===ae,className:"w-full rounded-full bg-[#10b981] px-5 py-2 text-sm font-semibold text-black transition hover:bg-[#00fff7] disabled:cursor-not-allowed disabled:opacity-50 sm:w-auto",children:e(ht||yt?"stakingProcessing":"claimButton")}),(0,P.jsx)("button",{onClick:()=>{!dt||ut||gt||(m({type:"info",message:e("stakingTxSubmitted")}),dt())},disabled:!dt||vt||0n===se,className:"w-full rounded-full border border-emerald-300/60 bg-transparent px-5 py-2 text-sm font-semibold text-emerald-300 transition hover:bg-emerald-500/10 hover:text-emerald-200 disabled:cursor-not-allowed disabled:opacity-50 sm:w-auto",children:e(ut||gt?"stakingProcessing":"unstakeButton")})]})]})]})}),(0,P.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,P.jsx)(O,{title:e("statPoolPercentTitle"),value:`${Te}%`,sub:e("statPoolPercentSub",{staked:qe,cap:C})}),(0,P.jsx)(O,{title:e("statCurrentRewardTitle"),value:e("statCurrentRewardSub",{daily:Ee})}),(0,P.jsx)(O,{title:e("statTotalRewardTitle"),value:e("statTotalRewardSub",{pending:Pe})})]}),(0,P.jsxs)("div",{className:"rounded-3xl border border-[#10b981]/30 bg-black/70 p-6 sm:p-8 shadow-xl shadow-[#10b981]/10",children:[(0,P.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,P.jsxs)("div",{className:"text-balance",children:[(0,P.jsx)("h3",{className:"text-2xl font-semibold text-emerald-200",children:e("stakeButton")}),(0,P.jsx)("p",{className:"mt-1 text-sm text-white/60 leading-relaxed",children:e("stakingDesc")})]}),Be&&(0,P.jsx)("span",{className:"rounded-full border border-[#10b981]/50 px-4 py-1 text-xs text-emerald-200",children:e("stakingMinNotice",{min:ce})})]}),(0,P.jsxs)("div",{className:"mt-6 flex flex-col gap-4 sm:flex-row sm:items-center",children:[(0,P.jsx)("input",{type:"number",min:"0",step:"0.0001",placeholder:"0.00",value:d,onChange:e=>c(e.target.value),disabled:!n||vt,className:"flex-1 rounded-2xl border border-white/15 bg-black/60 px-5 py-3 text-sm text-white placeholder-white/40 shadow-inner focus:border-[#10b981] focus:outline-none focus:ring-2 focus:ring-emerald-500/40"}),(0,P.jsx)("div",{className:"flex flex-1 flex-col gap-3 sm:flex-row sm:justify-end",children:(0,P.jsx)("button",{onClick:async()=>{if(t)if(B)if(ye&&we&&ve)if(me)if(ge)m({type:"warning",message:e("stakingEnterAmount",{min:ce})});else if(je)if(h)if(f)if([0,1,2].includes(0))if(it||rt)try{if(p(!0),it&&!Se){m({type:"info",message:e("stakingApproving")});const t=await He();await h.waitForTransactionReceipt({hash:t.hash});const n=await(null===ne||void 0===ne?void 0:ne()),s=n&&null!=n.data?(()=>{try{return BigInt(n.data)}catch{return ie}})():ie;if(ue>(null!==s&&void 0!==s?s:0n))throw new Error("Allowance still insufficient after approval.");return m({type:"success",message:e("stakingApproveSuccess")}),void(null===G||void 0===G||G())}if(!rt)throw new Error("Stake transaction not ready.");m({type:"info",message:e("stakingTxSubmitted")});const t=await tt();await h.waitForTransactionReceipt({hash:t.hash}),m({type:"success",message:e("stakingStakeSuccess")}),c(""),ze()}catch(n){const t=(null===n||void 0===n?void 0:n.shortMessage)||(null===n||void 0===n?void 0:n.message)||("string"===typeof n?n:null)||e("stakingError");m({type:"error",message:t})}finally{p(!1)}else m({type:"warning",message:e("stakingError")});else m({type:"error",message:e("stakingPoolInvalid")});else m({type:"error",message:e("stakingSignerMissing")});else m({type:"error",message:e("stakingError")});else m({type:"warning",message:e("stakingInsufficientBalance")});else m({type:"warning",message:e("stakingEnterAmount",{min:ce})});else m({type:"info",message:e("stakingBalanceLoading")});else m({type:"error",message:e("stakingNetworkMismatch")});else m({type:"warning",message:e("stakingConnectPrompt")})},disabled:wt,className:"w-full rounded-full bg-[#10b981] px-5 py-2 text-sm font-semibold text-black transition hover:bg-[#00fff7] disabled:cursor-not-allowed disabled:opacity-60 sm:w-auto",children:kt})})]}),wt&&St&&(0,P.jsx)("p",{className:`mt-2 text-xs ${It}`,children:St})]})]})})})}function O(e){let{title:t,value:n,sub:s}=e;return(0,P.jsxs)("div",{className:"min-w-0 rounded-3xl border border-[#10b981]/25 bg-black/60 px-5 py-4 shadow-lg shadow-[#10b981]/15",children:[(0,P.jsx)("p",{className:"text-[0.55rem] sm:text-[0.6rem] uppercase tracking-[0.24em] text-emerald-200/80 text-balance",children:t}),(0,P.jsx)("p",{className:"mt-2 text-xs sm:text-sm font-semibold text-white break-words whitespace-nowrap",children:n}),s&&(0,P.jsx)("p",{className:"mt-1 text-[0.65rem] sm:text-[0.7rem] text-white/60 leading-relaxed break-words text-balance",children:s})]})}function _(e){let{label:t,value:n,sub:s}=e;return(0,P.jsxs)("div",{className:"min-w-0 rounded-2xl border border-[#10b981]/35 bg-black/60 px-5 py-4 shadow-lg shadow-[#10b981]/10",children:[(0,P.jsx)("p",{className:"text-[0.55rem] sm:text-[0.6rem] uppercase tracking-[0.24em] text-emerald-200/80 text-balance",children:t}),(0,P.jsx)("p",{className:"mt-2 text-xs sm:text-sm font-semibold text-white break-words whitespace-nowrap",children:n}),s&&(0,P.jsx)("p",{className:"mt-1 text-[0.65rem] sm:text-[0.7rem] text-white/60 leading-relaxed break-words text-balance",children:s})]})}function U(e){let{title:t,value:n}=e;return(0,P.jsxs)("div",{className:"min-w-0 rounded-2xl border border-[#10b981]/35 bg-black/60 px-5 py-4 shadow-lg shadow-[#10b981]/10",children:[(0,P.jsx)("p",{className:"text-[0.55rem] sm:text-[0.6rem] uppercase tracking-[0.24em] text-emerald-200/80 text-balance",children:t}),(0,P.jsx)("p",{className:"mt-2 text-xs sm:text-sm font-semibold text-white break-words whitespace-nowrap",children:n})]})}},65566:(e,t,n)=>{n.d(t,{A:()=>r});n(9950);var s=n(74930),a=n(44414);const i={success:{Icon:s.A3x,classes:"border-green-500/40 bg-green-900/60 text-green-100"},info:{Icon:s.S8s,classes:"border-blue-500/40 bg-blue-900/60 text-blue-100"},warning:{Icon:s.eHT,classes:"border-amber-500/40 bg-amber-900/60 text-amber-100"},error:{Icon:s.hwE,classes:"border-red-500/40 bg-red-900/60 text-red-100"}};function r(e){let{type:t="info",title:n,message:s,children:r,className:o=""}=e;const l=i[t]||i.info,d=l.Icon,c=null!==s&&void 0!==s?s:r;return(0,a.jsxs)("div",{className:`flex items-start gap-3 rounded-2xl border px-4 py-3 text-sm shadow-lg shadow-black/20 backdrop-blur ${l.classes} ${o}`,children:[(0,a.jsx)(d,{className:"mt-0.5 h-5 w-5 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 leading-relaxed",children:[n&&(0,a.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide opacity-90",children:n}),"string"===typeof c?(0,a.jsx)("span",{children:c}):c]})]})}}}]);