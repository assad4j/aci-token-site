"use strict";(self.webpackChunkaci_presale_site=self.webpackChunkaci_presale_site||[]).push([[337],{337:(e,t,n)=>{n.r(t),n.d(t,{default:()=>J});var a=n(9950),s=n(24399),i=n(60074),r=n(43236);let l=!1;const o=function(e){return(0,i.lY)(e)};let d=o;function c(e){const t=(0,r.q5)(e,"data");return(0,r.c$)(d(t))}c._=o,c.lock=function(){l=!0},c.register=function(e){if(l)throw new TypeError("keccak256 is locked");d=e},Object.freeze(c);var u=n(49099);const m=BigInt(0),g=BigInt(36);function p(e){const t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let s=0;s<40;s++)n[s]=t[s].charCodeAt(0);const a=(0,r.q5)(c(n));for(let s=0;s<40;s+=2)a[s>>1]>>4>=8&&(t[s]=t[s].toUpperCase()),(15&a[s>>1])>=8&&(t[s+1]=t[s+1].toUpperCase());return"0x"+t.join("")}const b={};for(let W=0;W<10;W++)b[String(W)]=String(W);for(let W=0;W<26;W++)b[String.fromCharCode(65+W)]=String(10+W);const x=15;function h(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>b[e]).join("");for(;t.length>=x;){let e=t.substring(0,x);t=parseInt(e,10)%97+t.substring(e.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}const f=function(){const e={};for(let t=0;t<36;t++){e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t)}return e}();function y(e){if((0,u.MR)("string"===typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=p(e);return(0,u.MR)(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){(0,u.MR)(e.substring(2,4)===h(e),"bad icap checksum","address",e);let t=function(e){e=e.toLowerCase();let t=m;for(let n=0;n<e.length;n++)t=t*g+f[e[n]];return t}(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return p("0x"+t)}(0,u.MR)(!1,"invalid address","address",e)}function v(e){try{return y(e),!0}catch(t){}return!1}var w=n(88854),k=n(67818),N=n(52440),j=n(65566);const M=JSON.parse('[{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"stakes","outputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"lastRewardTimestamp","type":"uint256"},{"internalType":"uint256","name":"rewards","type":"uint256"},{"internalType":"uint256","name":"stakeTimestamp","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"getPendingRewards","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"annualRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lockPeriod","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"secondsInYear","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"stake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unstake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"claimRewards","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),S=JSON.parse('[{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"}]');var I,T,B,A,C,E=n(21874);const F=null!==(I="0xb151450F16Efef1F312D72E740Ca4b54698755cD")?I:"0xb151450F16Efef1F312D72E740Ca4b54698755cD",L=null!==(T="0x8257194Ae124EDEA0E434a3D1479e52C5a5C59C4")?T:"0x8257194Ae124EDEA0E434a3D1479e52C5a5C59C4",$=Number(null!==(B=null!=="1"?"1":E.qu.chainId)&&void 0!==B?B:1),P={contractAddress:F,tokenAddress:L,token:L,chainId:Number.isFinite($)?$:1,minAmount:Number("0")};A=null!==(C="Ethereum Mainnet")?C:"Ethereum Mainnet";var R=n(8747),q=n(44414);const D=12e9;function J(){const{t:e}=(0,k.Bd)(),{address:t,isConnected:n}=(0,s.F7)(),{chain:i}=(0,s.AE)(),{switchNetwork:r,isLoading:l}=(0,s.YO)({chainId:P.chainId}),[o,d]=(0,a.useState)(""),[c,u]=(0,a.useState)(null),[m,g]=(0,a.useState)(!1),p=P.contractAddress,b=P.tokenAddress,x=(0,s.eH)({chainId:P.chainId}),{data:h}=(0,s.GT)({chainId:P.chainId}),f=(0,a.useMemo)(()=>Boolean(p&&v(p)),[p]),y=(0,a.useMemo)(()=>Boolean(b&&v(b)),[b]),I=(null===i||void 0===i?void 0:i.id)===P.chainId,T=(0,a.useMemo)(()=>D.toLocaleString(void 0,{maximumFractionDigits:0}),[]),{data:B,refetch:A}=(0,s.qx)({address:f?p:void 0,abi:M,functionName:"stakes",args:t?[t]:void 0,chainId:P.chainId,query:{enabled:Boolean(t)&&f},watch:Boolean(t)&&f}),{data:C,refetch:E}=(0,s.qx)({address:f?p:void 0,abi:M,functionName:"getPendingRewards",args:t?[t]:void 0,chainId:P.chainId,query:{enabled:Boolean(t)&&f},watch:Boolean(t)&&f}),{data:F}=(0,s.qx)({address:f?p:void 0,abi:M,functionName:"annualRate",chainId:P.chainId,query:{enabled:f}}),{data:L}=(0,s.qx)({address:f?p:void 0,abi:M,functionName:"lockPeriod",chainId:P.chainId,query:{enabled:f}}),$=Boolean(t)&&y&&I,{data:J,status:W,error:Y}=(0,s.qx)({address:y?b:void 0,abi:S,functionName:"decimals",chainId:P.chainId,query:{enabled:y}}),{data:z,status:V,error:X,refetch:H}=(0,s.qx)({address:$?b:void 0,abi:S,functionName:"balanceOf",args:$?[t]:void 0,chainId:P.chainId,query:{enabled:$},watch:$}),{data:G,status:K,error:Z}=(0,s.qx)({address:y?b:void 0,abi:S,functionName:"balanceOf",args:y&&f?[p]:void 0,chainId:P.chainId,query:{enabled:y&&f},watch:y&&f}),{data:Q,status:ee,error:te,refetch:ne}=(0,s.qx)({address:y?b:void 0,abi:S,functionName:"allowance",args:t&&y&&f?[t,p]:void 0,chainId:P.chainId,query:{enabled:Boolean(t)&&y&&f&&I},watch:Boolean(t)&&y&&f&&I}),ae=(0,a.useMemo)(()=>{if(!B)return 0n;var e;if("object"===typeof B&&"amount"in B)return null!==(e=B.amount)&&void 0!==e?e:0n;if(Array.isArray(B)){var t;const e=null!==(t=B[0])&&void 0!==t?t:0n;try{return"bigint"===typeof e?e:BigInt(e)}catch{return 0n}}return 0n},[B]),se=(0,a.useMemo)(()=>{if("bigint"===typeof C)return C;if(!C)return 0n;try{return BigInt(C)}catch{return 0n}},[C]),ie=(0,a.useMemo)(()=>{if("bigint"===typeof Q)return Q;if(!Q)return 0n;try{return BigInt(Q)}catch{return 0n}},[Q]),re=(0,a.useMemo)(()=>{if(null==J)return 18;if("number"===typeof J)return J;if("bigint"===typeof J)return Number(J);const e=Number(J);return Number.isFinite(e)?e:18},[J]),le=(0,a.useMemo)(()=>{var e;return null!==(e=null!=="0"?"0":undefined)&&void 0!==e?e:"0"},[]),oe=Number.isFinite(re)?re:18,de=(0,a.useMemo)(()=>{try{return(0,w.XS)(String(le||"0"),oe)}catch{return 0n}},[le,oe]),ce=(0,a.useMemo)(()=>{try{const e=Number((0,w.Js)(de,oe));return Number.isFinite(e)?e.toLocaleString(void 0,{maximumFractionDigits:4}):"0"}catch{return"0"}},[de,oe]),ue=(0,a.useMemo)(()=>{const e=(null!==o&&void 0!==o?o:"").replace(",",".").trim();if(!e)return 0n;try{const t=(0,w.XS)(e,oe);return t>0n?t:0n}catch{return 0n}},[o,oe]),me=ue>0n,ge=me&&ue<de,pe=me&&ue>=de,be=(0,a.useMemo)(()=>{if("bigint"===typeof z)return z;if(null==z)return 0n;try{return BigInt(z)}catch{return 0n}},[z]),xe=(0,a.useMemo)(()=>{if("bigint"===typeof G)return G;if(null==G)return 0n;try{return BigInt(G)}catch{return 0n}},[G]),he=(0,a.useMemo)(()=>{try{return(0,w.Js)(null!==ae&&void 0!==ae?ae:0n,oe)}catch{return"0"}},[ae,oe]),fe=(0,a.useMemo)(()=>{try{return(0,w.Js)(null!==se&&void 0!==se?se:0n,oe)}catch{return"0"}},[se,oe]),ye="success"===W&&null==Y,ve="success"===V&&null==X,we="success"===ee&&null==te,ke="success"===K&&null==Z,Ne=Boolean(h),je=!!ve&&be>=ue,Me=!!we&&ie>=ue,Se=we&&!Me&&ue>0n,Ie=ye&&ve?(0,w.Js)(be,oe):null,Te=de>0n,Be=I&&Ne&&ue>0n&&!ge&&we&&!Me,Ae=I&&Ne&&ue>0n&&!ge&&ve&&we&&je&&Me,Ce=(0,a.useMemo)(()=>{const e=Number(he);return!Number.isFinite(e)||D<=0?"0.00":(e/D*100).toFixed(2)},[he]),Ee=(0,a.useMemo)(()=>{const e=parseFloat(fe);return Number.isFinite(e)?(e/365).toFixed(2):"0.00"},[fe]),Fe=(0,a.useMemo)(()=>{if(null==F)return 0;const e=Number(F);return Number.isFinite(e)?e/100:0},[F]),Le=(0,a.useMemo)(()=>Fe.toFixed(2),[Fe]),$e=(0,a.useMemo)(()=>(3*Fe).toFixed(2),[Fe]),Pe=(0,a.useMemo)(()=>{if(!L)return 0;const e=Number(L);return Number.isFinite(e)&&0!==e?Math.floor(e/86400):0},[L]),Re=(0,a.useMemo)(()=>{const e=Number(he);return Number.isFinite(e)?e.toLocaleString(void 0,{maximumFractionDigits:4}):he},[he]),qe=(0,a.useMemo)(()=>{const e=Number(fe);return Number.isFinite(e)?e.toLocaleString(void 0,{maximumFractionDigits:4}):fe},[fe]),De=(0,a.useMemo)(()=>{if(null==Ie)return null;const e=Number(Ie);return Number.isFinite(e)?e.toLocaleString(void 0,{maximumFractionDigits:4}):Ie},[Ie]),Je=(0,a.useMemo)(()=>{if(!ke)return"0";try{const e=Number((0,w.Js)(xe,oe));return Number.isFinite(e)?e.toLocaleString(void 0,{maximumFractionDigits:4}):"0"}catch{return"0"}},[ke,xe,oe]),Oe=e("stakingTokenTicker",{defaultValue:"ACI"}),_e=(0,a.useMemo)(()=>{const t=[e("statCurrentRewardSub",{daily:Ee})];return ke&&t.push(e("statContractBalanceSub",{balance:Je})),t.join(" \u2022 ")},[e,Ee,ke,Je]),Ue=(0,a.useMemo)(()=>null!==Ie&&void 0!==Ie?Ie:null,[Ie]),We=(0,a.useMemo)(()=>{if(!we)return null;try{return(0,w.Js)(ie,oe)}catch{return null}},[we,ie,oe]),Ye=(0,a.useMemo)(()=>he,[he]),ze=(0,a.useCallback)(e=>{if(null==e||""===e)return`0\u202f${Oe}`;const t=Number(e);if(Number.isFinite(t)){return`${t.toLocaleString(void 0,{maximumFractionDigits:4}).replace(/\s/g,"\u202f")}\u202f${Oe}`}return`${String(e).replace(/\s/g,"\u202f")}\u202f${Oe}`},[Oe]),Ve=(0,a.useCallback)(()=>{null===A||void 0===A||A(),null===E||void 0===E||E(),null===ne||void 0===ne||ne(),null===H||void 0===H||H()},[A,E,ne,H]),{config:Xe}=(0,s.i8)({address:y?b:void 0,abi:S,functionName:"approve",args:ue>0n&&f?[p,ue]:void 0,chainId:P.chainId,enabled:Boolean(t)&&I&&ue>0n&&pe&&y&&h}),{writeAsync:He,data:Ge,isLoading:Ke,error:Ze}=(0,s.t4)(Xe),{isLoading:Qe}=(0,s.gJ)({hash:null===Ge||void 0===Ge?void 0:Ge.hash,enabled:Boolean(null===Ge||void 0===Ge?void 0:Ge.hash),onSuccess:()=>{u({type:"success",message:e("stakingApproveSuccess")}),null===ne||void 0===ne||ne()},onError:t=>{u({type:"error",message:(null===t||void 0===t?void 0:t.shortMessage)||(null===t||void 0===t?void 0:t.message)||e("stakingError")})}}),et=Boolean(t)&&f&&pe&&je&&!Se&&I&&h&&ye&&we&&ve,{config:tt}=(0,s.i8)({address:f?p:void 0,abi:M,functionName:"stake",args:et&&ue>0n?[ue]:void 0,chainId:P.chainId,enabled:et}),{writeAsync:nt,data:at,isLoading:st,error:it}=(0,s.t4)(tt),rt=Be&&Boolean(He),lt=Ae&&Boolean(nt),{isLoading:ot}=(0,s.gJ)({hash:null===at||void 0===at?void 0:at.hash,enabled:Boolean(null===at||void 0===at?void 0:at.hash),onSuccess:()=>{u({type:"success",message:e("stakingStakeSuccess")}),d(""),Ve()},onError:t=>{u({type:"error",message:(null===t||void 0===t?void 0:t.shortMessage)||(null===t||void 0===t?void 0:t.message)||e("stakingError")})}}),{config:dt}=(0,s.i8)({address:f?p:void 0,abi:M,functionName:"unstake",chainId:P.chainId,enabled:Boolean(t)&&I&&f&&ae>0n}),{write:ct,data:ut,isLoading:mt,error:gt}=(0,s.t4)(dt),{isLoading:pt}=(0,s.gJ)({hash:null===ut||void 0===ut?void 0:ut.hash,enabled:Boolean(null===ut||void 0===ut?void 0:ut.hash),onSuccess:()=>{u({type:"success",message:e("stakingUnstakeSuccess")}),Ve()},onError:t=>{u({type:"error",message:(null===t||void 0===t?void 0:t.shortMessage)||(null===t||void 0===t?void 0:t.message)||e("stakingError")})}}),{config:bt}=(0,s.i8)({address:f?p:void 0,abi:M,functionName:"claimRewards",chainId:P.chainId,enabled:Boolean(t)&&I&&f&&se>0n}),{write:xt,data:ht,isLoading:ft,error:yt}=(0,s.t4)(bt),{isLoading:vt}=(0,s.gJ)({hash:null===ht||void 0===ht?void 0:ht.hash,enabled:Boolean(null===ht||void 0===ht?void 0:ht.hash),onSuccess:()=>{u({type:"success",message:e("stakingClaimSuccess")}),Ve()},onError:t=>{u({type:"error",message:(null===t||void 0===t?void 0:t.shortMessage)||(null===t||void 0===t?void 0:t.message)||e("stakingError")})}});(0,a.useEffect)(()=>{const t=[Ze,it,gt,yt].find(Boolean);t&&u({type:"error",message:(null===t||void 0===t?void 0:t.shortMessage)||(null===t||void 0===t?void 0:t.message)||e("stakingError")})},[Ze,it,gt,yt,e]);const wt=Ke||Qe||st||ot||m||mt||pt||ft||vt,kt=wt||!rt&&!lt,Nt=e(wt?"stakingProcessing":Me?"stakeButton":"stakingApproveButton");let jt=null;kt&&!wt&&(t?I?Ne&&x?ye&&ve&&we?me?ge?jt="amount":je?(Be&&!rt||Ae&&!lt)&&(jt="loading"):jt="balance":jt="amount":jt="loading":jt="signer":jt="network":jt="connect");const Mt={connect:e("stakingConnectPrompt"),network:e("stakingNetworkMismatch"),signer:e("stakingSignerMissing"),loading:e("stakingBalanceLoading"),amount:e("stakingEnterAmount",{min:ce}),balance:e("stakingInsufficientBalance"),pending:e("stakingProcessing")},St=jt?Mt[jt]:wt?e("stakingProcessing"):null,It="loading"===jt||!jt&&wt?"text-emerald-300":"text-rose-400";(0,a.useEffect)(()=>{var e;const n=rt||lt,a=ue.toString(),s=ve?be.toString():String(V),r=we?ie.toString():String(ee);console.info(`[ACI/Staking] chain=${null!==(e=null===i||void 0===i?void 0:i.id)&&void 0!==e?e:"n/a"} user=${null!==t&&void 0!==t?t:"n/a"} token=${P.token} staking=${p} pool=0 amountWei=${a} minWei=${de.toString()} bal=${s} allow=${r} ready=${n}`)},[null===i||void 0===i?void 0:i.id,t,p,0,ue,de,be,V,ie,ee,rt,lt,ve,we]);const Tt=[];f||Tt.push(e("stakingConfigErrorContract")),b&&!y&&Tt.push(e("stakingConfigErrorToken"));const Bt=ke&&se>0n&&xe<se,At=!n,Ct=n&&!I;return(0,q.jsx)(N.A,{children:(0,q.jsx)("div",{className:"min-h-screen px-4 pt-6 pb-16 text-white sm:px-8 sm:pt-8 lg:pt-10",children:(0,q.jsxs)("div",{className:"mx-auto max-w-6xl space-y-10",children:[(0,q.jsxs)("header",{className:"space-y-4 text-center",children:[(0,q.jsx)("h1",{className:"text-3xl font-bold tracking-tight sm:text-4xl",children:e("stakingTitle")}),(0,q.jsx)("p",{className:"mx-auto max-w-2xl text-sm text-white/70 sm:text-base",children:e("stakingDesc")})]}),(0,q.jsxs)("div",{className:"mx-auto max-w-3xl space-y-3",children:[At&&(0,q.jsx)(j.A,{type:"info",message:e("stakingConnectPrompt")}),Ct&&(0,q.jsx)(j.A,{type:"error",children:(0,q.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,q.jsx)("span",{children:e("stakingNetworkMismatch")}),r&&(0,q.jsx)("button",{onClick:()=>null===r||void 0===r?void 0:r(P.chainId),disabled:l||wt,className:"inline-flex items-center justify-center rounded-full bg-[#10b981] px-4 py-2 text-sm font-semibold text-black transition hover:bg-[#00fff7] disabled:cursor-not-allowed disabled:opacity-60",children:e(l?"networkSwitching":"networkSwitch")})]})}),Tt.map(e=>(0,q.jsx)(j.A,{type:"error",message:e},e)),Bt&&(0,q.jsx)(j.A,{type:"warning",message:e("stakingContractBalanceWarning",{balance:Je})}),c&&(0,q.jsx)(j.A,{type:c.type,message:c.message})]}),(0,q.jsx)("div",{className:"flex flex-col gap-6",children:(0,q.jsxs)("div",{className:"rounded-3xl border border-[#10b981]/40 bg-gradient-to-br from-[#10b981]/20 via-black/50 to-black/80 p-6 sm:p-8 shadow-2xl shadow-[#10b981]/20",children:[(0,q.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("p",{className:"text-xs uppercase tracking-[0.45em] text-emerald-200/80",children:"ACI"}),(0,q.jsx)("h2",{className:"mt-1 text-2xl font-semibold text-emerald-100",children:e("statStakedTitle")})]}),(0,q.jsxs)("div",{className:"flex flex-col items-start gap-3 sm:items-end",children:[(0,q.jsx)(R.pK,{chainStatus:"icon",accountStatus:"address",showBalance:!1}),Pe>0&&(0,q.jsx)("span",{className:"rounded-full border border-[#10b981]/60 bg-black/30 px-4 py-1 text-xs text-emerald-200",children:e("stakingLockPeriod",{days:Pe})})]})]}),n&&(0,q.jsxs)("div",{className:"mt-6 grid w-full grid-cols-1 gap-4 sm:grid-cols-3",children:[(0,q.jsx)(U,{title:e("stakingMiniBalanceTitle"),value:ze(Ue)}),(0,q.jsx)(U,{title:e("stakingMiniAllowanceTitle"),value:ze(We)}),(0,q.jsx)(U,{title:e("stakingMiniStakedTitle"),value:ze(Ye)})]}),(0,q.jsxs)("div",{className:"mt-6 grid w-full grid-cols-1 gap-4 sm:grid-cols-3",children:[(0,q.jsx)(_,{label:e("statStakedTitle"),value:ze(Re),sub:Ce?e("statPoolPercentSub",{staked:Re,cap:T}):void 0}),(0,q.jsx)(_,{label:e("statTotalRewardTitle"),value:ze(qe),sub:_e}),(0,q.jsx)(_,{label:e("statRateTitle"),value:`${Le}%`,sub:e("statRateSub",{rateYear:Le,rateThree:$e})})]}),(0,q.jsxs)("div",{className:"mt-8 flex flex-col items-center gap-4 rounded-2xl border border-[#10b981]/35 bg-black/60 px-6 py-6 text-center shadow-lg shadow-[#10b981]/10",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("h3",{className:"text-lg font-semibold text-emerald-200 text-balance",children:e("stakingBalanceTitle")}),(0,q.jsx)("p",{className:"mt-2 text-sm text-white/70 leading-relaxed text-balance",children:null!=De?e("stakingBalanceValue",{balance:De}):e("pending"===V||"pending"===W?"stakingBalanceLoading":"stakingBalanceUnknown")}),Te&&(0,q.jsx)("p",{className:"mt-1 text-xs text-white/50 leading-relaxed",children:e("stakingMinLabel",{min:ce})})]}),(0,q.jsxs)("div",{className:"w-full max-w-md flex flex-col gap-3 sm:flex-row sm:justify-center",children:[(0,q.jsx)("button",{onClick:()=>{!xt||ft||vt||(u({type:"info",message:e("stakingTxSubmitted")}),xt())},disabled:!xt||wt||0n===se,className:"w-full rounded-full bg-[#10b981] px-5 py-2 text-sm font-semibold text-black transition hover:bg-[#00fff7] disabled:cursor-not-allowed disabled:opacity-50 sm:w-auto",children:e(ft||vt?"stakingProcessing":"claimButton")}),(0,q.jsx)("button",{onClick:()=>{!ct||mt||pt||(u({type:"info",message:e("stakingTxSubmitted")}),ct())},disabled:!ct||wt||0n===ae,className:"w-full rounded-full border border-emerald-300/60 bg-transparent px-5 py-2 text-sm font-semibold text-emerald-300 transition hover:bg-emerald-500/10 hover:text-emerald-200 disabled:cursor-not-allowed disabled:opacity-50 sm:w-auto",children:e(mt||pt?"stakingProcessing":"unstakeButton")})]})]})]})}),(0,q.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,q.jsx)(O,{title:e("statPoolPercentTitle"),value:`${Ce}%`,sub:e("statPoolPercentSub",{staked:Re,cap:T})}),(0,q.jsx)(O,{title:e("statCurrentRewardTitle"),value:e("statCurrentRewardSub",{daily:Ee})}),(0,q.jsx)(O,{title:e("statTotalRewardTitle"),value:e("statTotalRewardSub",{pending:qe})})]}),(0,q.jsxs)("div",{className:"rounded-3xl border border-[#10b981]/30 bg-black/70 p-6 sm:p-8 shadow-xl shadow-[#10b981]/10",children:[(0,q.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,q.jsxs)("div",{className:"text-balance",children:[(0,q.jsx)("h3",{className:"text-2xl font-semibold text-emerald-200",children:e("stakeButton")}),(0,q.jsx)("p",{className:"mt-1 text-sm text-white/60 leading-relaxed",children:e("stakingDesc")})]}),Te&&(0,q.jsx)("span",{className:"rounded-full border border-[#10b981]/50 px-4 py-1 text-xs text-emerald-200",children:e("stakingMinNotice",{min:ce})})]}),(0,q.jsxs)("div",{className:"mt-6 flex flex-col gap-4 sm:flex-row sm:items-center",children:[(0,q.jsx)("input",{type:"number",min:"0",step:"0.0001",placeholder:e("stakingAmountPlaceholder",{defaultValue:"0.00"}),value:o,onChange:e=>d(e.target.value),disabled:!n||wt,className:"flex-1 rounded-2xl border border-white/15 bg-black/60 px-5 py-3 text-sm text-white placeholder-white/40 shadow-inner focus:border-[#10b981] focus:outline-none focus:ring-2 focus:ring-emerald-500/40"}),(0,q.jsx)("div",{className:"flex flex-1 flex-col gap-3 sm:flex-row sm:justify-end",children:(0,q.jsx)("button",{onClick:async()=>{if(t)if(I)if(ye&&we&&ve)if(me)if(ge)u({type:"warning",message:e("stakingEnterAmount",{min:ce})});else if(je)if(x)if(h)if([0,1,2].includes(0))if(rt||lt)try{if(g(!0),rt&&!Me){u({type:"info",message:e("stakingApproving")});const t=await He();await x.waitForTransactionReceipt({hash:t.hash});const n=await(null===ne||void 0===ne?void 0:ne()),a=n&&null!=n.data?(()=>{try{return BigInt(n.data)}catch{return ie}})():ie;if(ue>(null!==a&&void 0!==a?a:0n))throw new Error("Allowance still insufficient after approval.");return u({type:"success",message:e("stakingApproveSuccess")}),void(null===H||void 0===H||H())}if(!lt)throw new Error("Stake transaction not ready.");u({type:"info",message:e("stakingTxSubmitted")});const t=await nt();await x.waitForTransactionReceipt({hash:t.hash}),u({type:"success",message:e("stakingStakeSuccess")}),d(""),Ve()}catch(n){const t=(null===n||void 0===n?void 0:n.shortMessage)||(null===n||void 0===n?void 0:n.message)||("string"===typeof n?n:null)||e("stakingError");u({type:"error",message:t})}finally{g(!1)}else u({type:"warning",message:e("stakingError")});else u({type:"error",message:e("stakingPoolInvalid")});else u({type:"error",message:e("stakingSignerMissing")});else u({type:"error",message:e("stakingError")});else u({type:"warning",message:e("stakingInsufficientBalance")});else u({type:"warning",message:e("stakingEnterAmount",{min:ce})});else u({type:"info",message:e("stakingBalanceLoading")});else u({type:"error",message:e("stakingNetworkMismatch")});else u({type:"warning",message:e("stakingConnectPrompt")})},disabled:kt,className:"w-full rounded-full bg-[#10b981] px-5 py-2 text-sm font-semibold text-black transition hover:bg-[#00fff7] disabled:cursor-not-allowed disabled:opacity-60 sm:w-auto",children:Nt})})]}),kt&&St&&(0,q.jsx)("p",{className:`mt-2 text-xs ${It}`,children:St})]})]})})})}function O(e){let{title:t,value:n,sub:a}=e;return(0,q.jsxs)("div",{className:"min-w-0 rounded-3xl border border-[#10b981]/25 bg-black/60 px-5 py-4 shadow-lg shadow-[#10b981]/15",children:[(0,q.jsx)("p",{className:"text-[0.55rem] sm:text-[0.6rem] uppercase tracking-[0.24em] text-emerald-200/80 text-balance",children:t}),(0,q.jsx)("p",{className:"mt-2 text-xs sm:text-sm font-semibold text-white break-words whitespace-nowrap",children:n}),a&&(0,q.jsx)("p",{className:"mt-1 text-[0.65rem] sm:text-[0.7rem] text-white/60 leading-relaxed break-words text-balance",children:a})]})}function _(e){let{label:t,value:n,sub:a}=e;return(0,q.jsxs)("div",{className:"min-w-0 rounded-2xl border border-[#10b981]/35 bg-black/60 px-5 py-4 shadow-lg shadow-[#10b981]/10",children:[(0,q.jsx)("p",{className:"text-[0.55rem] sm:text-[0.6rem] uppercase tracking-[0.24em] text-emerald-200/80 text-balance",children:t}),(0,q.jsx)("p",{className:"mt-2 text-xs sm:text-sm font-semibold text-white break-words whitespace-nowrap",children:n}),a&&(0,q.jsx)("p",{className:"mt-1 text-[0.65rem] sm:text-[0.7rem] text-white/60 leading-relaxed break-words text-balance",children:a})]})}function U(e){let{title:t,value:n}=e;return(0,q.jsxs)("div",{className:"min-w-0 rounded-2xl border border-[#10b981]/35 bg-black/60 px-5 py-4 shadow-lg shadow-[#10b981]/10",children:[(0,q.jsx)("p",{className:"text-[0.55rem] sm:text-[0.6rem] uppercase tracking-[0.24em] text-emerald-200/80 text-balance",children:t}),(0,q.jsx)("p",{className:"mt-2 text-xs sm:text-sm font-semibold text-white break-words whitespace-nowrap",children:n})]})}},65566:(e,t,n)=>{n.d(t,{A:()=>r});n(9950);var a=n(74930),s=n(44414);const i={success:{Icon:a.A3x,classes:"border-green-500/40 bg-green-900/60 text-green-100"},info:{Icon:a.S8s,classes:"border-blue-500/40 bg-blue-900/60 text-blue-100"},warning:{Icon:a.eHT,classes:"border-amber-500/40 bg-amber-900/60 text-amber-100"},error:{Icon:a.hwE,classes:"border-red-500/40 bg-red-900/60 text-red-100"}};function r(e){let{type:t="info",title:n,message:a,children:r,className:l=""}=e;const o=i[t]||i.info,d=o.Icon,c=null!==a&&void 0!==a?a:r;return(0,s.jsxs)("div",{className:`flex items-start gap-3 rounded-2xl border px-4 py-3 text-sm shadow-lg shadow-black/20 backdrop-blur ${o.classes} ${l}`,children:[(0,s.jsx)(d,{className:"mt-0.5 h-5 w-5 flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex flex-col gap-1 leading-relaxed",children:[n&&(0,s.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide opacity-90",children:n}),"string"===typeof c?(0,s.jsx)("span",{children:c}):c]})]})}}}]);