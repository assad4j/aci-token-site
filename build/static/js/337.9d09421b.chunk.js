"use strict";(self.webpackChunkaci_presale_site=self.webpackChunkaci_presale_site||[]).push([[337],{337:(e,t,n)=>{n.r(t),n.d(t,{default:()=>D});var s=n(9950),a=n(24399),i=n(60074),r=n(43236);let l=!1;const o=function(e){return(0,i.lY)(e)};let d=o;function c(e){const t=(0,r.q5)(e,"data");return(0,r.c$)(d(t))}c._=o,c.lock=function(){l=!0},c.register=function(e){if(l)throw new TypeError("keccak256 is locked");d=e},Object.freeze(c);var u=n(49099);const m=BigInt(0),g=BigInt(36);function p(e){const t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let a=0;a<40;a++)n[a]=t[a].charCodeAt(0);const s=(0,r.q5)(c(n));for(let a=0;a<40;a+=2)s[a>>1]>>4>=8&&(t[a]=t[a].toUpperCase()),(15&s[a>>1])>=8&&(t[a+1]=t[a+1].toUpperCase());return"0x"+t.join("")}const x={};for(let O=0;O<10;O++)x[String(O)]=String(O);for(let O=0;O<26;O++)x[String.fromCharCode(65+O)]=String(10+O);const b=15;function h(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>x[e]).join("");for(;t.length>=b;){let e=t.substring(0,b);t=parseInt(e,10)%97+t.substring(e.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}const f=function(){const e={};for(let t=0;t<36;t++){e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t)}return e}();function y(e){if((0,u.MR)("string"===typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=p(e);return(0,u.MR)(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){(0,u.MR)(e.substring(2,4)===h(e),"bad icap checksum","address",e);let t=function(e){e=e.toLowerCase();let t=m;for(let n=0;n<e.length;n++)t=t*g+f[e[n]];return t}(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return p("0x"+t)}(0,u.MR)(!1,"invalid address","address",e)}function v(e){try{return y(e),!0}catch(t){}return!1}var w=n(88854),k=n(67818),N=n(77612),j=n(52440),I=n(65566);const S=JSON.parse('[{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"stakes","outputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"lastRewardTimestamp","type":"uint256"},{"internalType":"uint256","name":"rewards","type":"uint256"},{"internalType":"uint256","name":"stakeTimestamp","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"getPendingRewards","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"annualRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lockPeriod","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"secondsInYear","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"stake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unstake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"claimRewards","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),M=JSON.parse('[{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"}]');var A,B,T,C,E=n(21874);const F=null!==(A="0xF7dc4A9A7d4b3D989295C76E5ace1fA390bb5e03")?A:"0xF7dc4A9A7d4b3D989295C76E5ace1fA390bb5e03",L=null!==""?"":"0x8257194Ae124EDEA0E434a3D1479e52C5a5C59C4",R=Number(null!==(B=null!=="1"?"1":E.q.chainId)&&void 0!==B?B:1),P={contractAddress:F,tokenAddress:L,token:L,chainId:Number.isFinite(R)?R:1,minAmount:Number("0")};T=null!==(C="Ethereum Mainnet")?C:"Ethereum Mainnet";var $=n(44414);const q=5e7;function D(){const{t:e}=(0,k.Bd)(),{address:t,isConnected:n}=(0,a.F7)(),{chain:i}=(0,a.AE)(),{switchNetwork:r,isLoading:l}=(0,a.YO)({chainId:P.chainId}),[o,d]=(0,s.useState)(""),[c,u]=(0,s.useState)(null),[m,g]=(0,s.useState)(!1),p=P.contractAddress,x=P.tokenAddress,b=(0,a.eH)({chainId:P.chainId}),{data:h}=(0,a.GT)({chainId:P.chainId}),f=(0,s.useMemo)(()=>Boolean(p&&v(p)),[p]),y=(0,s.useMemo)(()=>Boolean(x&&v(x)),[x]),A=(null===i||void 0===i?void 0:i.id)===P.chainId,{data:B,refetch:T}=(0,a.qx)({address:f?p:void 0,abi:S,functionName:"stakes",args:t?[t]:void 0,chainId:P.chainId,query:{enabled:Boolean(t)&&f},watch:Boolean(t)&&f}),{data:C,refetch:E}=(0,a.qx)({address:f?p:void 0,abi:S,functionName:"getPendingRewards",args:t?[t]:void 0,chainId:P.chainId,query:{enabled:Boolean(t)&&f},watch:Boolean(t)&&f}),{data:F}=(0,a.qx)({address:f?p:void 0,abi:S,functionName:"annualRate",chainId:P.chainId,query:{enabled:f}}),{data:L}=(0,a.qx)({address:f?p:void 0,abi:S,functionName:"lockPeriod",chainId:P.chainId,query:{enabled:f}}),R=Boolean(t)&&y&&A,{data:D,status:O,error:U}=(0,a.qx)({address:y?x:void 0,abi:M,functionName:"decimals",chainId:P.chainId,query:{enabled:y}}),{data:z,status:W,error:X,refetch:Y}=(0,a.qx)({address:R?x:void 0,abi:M,functionName:"balanceOf",args:R?[t]:void 0,chainId:P.chainId,query:{enabled:R},watch:R}),{data:H,status:G,error:K,refetch:V}=(0,a.qx)({address:y?x:void 0,abi:M,functionName:"allowance",args:t&&y&&f?[t,p]:void 0,chainId:P.chainId,query:{enabled:Boolean(t)&&y&&f&&A},watch:Boolean(t)&&y&&f&&A}),Z=(0,s.useMemo)(()=>{if(!B)return 0n;var e;if("object"===typeof B&&"amount"in B)return null!==(e=B.amount)&&void 0!==e?e:0n;if(Array.isArray(B)){var t;const e=null!==(t=B[0])&&void 0!==t?t:0n;try{return"bigint"===typeof e?e:BigInt(e)}catch{return 0n}}return 0n},[B]),Q=(0,s.useMemo)(()=>{if("bigint"===typeof C)return C;if(!C)return 0n;try{return BigInt(C)}catch{return 0n}},[C]),ee=(0,s.useMemo)(()=>{if("bigint"===typeof H)return H;if(!H)return 0n;try{return BigInt(H)}catch{return 0n}},[H]),te=(0,s.useMemo)(()=>{if(null==D)return 18;if("number"===typeof D)return D;if("bigint"===typeof D)return Number(D);const e=Number(D);return Number.isFinite(e)?e:18},[D]),ne=(0,s.useMemo)(()=>{var e;return null!==(e=null!=="0"?"0":undefined)&&void 0!==e?e:"0"},[]),se=Number.isFinite(te)?te:18,ae=(0,s.useMemo)(()=>{try{return(0,w.XS)(String(ne||"0"),se)}catch{return 0n}},[ne,se]),ie=(0,s.useMemo)(()=>{try{const e=Number((0,w.Js)(ae,se));return Number.isFinite(e)?e.toLocaleString(void 0,{maximumFractionDigits:4}):"0"}catch{return"0"}},[ae,se]),re=(0,s.useMemo)(()=>{const e=(null!==o&&void 0!==o?o:"").replace(",",".").trim();if(!e)return 0n;try{const t=(0,w.XS)(e,se);return t>0n?t:0n}catch{return 0n}},[o,se]),le=re>0n,oe=le&&re<ae,de=le&&re>=ae,ce=(0,s.useMemo)(()=>{if("bigint"===typeof z)return z;if(null==z)return 0n;try{return BigInt(z)}catch{return 0n}},[z]),ue=(0,w.ck)(null!==Z&&void 0!==Z?Z:0n),me=(0,w.ck)(null!==Q&&void 0!==Q?Q:0n),ge="success"===O&&null==U,pe="success"===W&&null==X,xe="success"===G&&null==K,be=Boolean(h),he=!!pe&&ce>=re,fe=!!xe&&ee>=re,ye=xe&&!fe&&re>0n,ve=ge&&pe?(0,w.Js)(ce,se):null,we=ae>0n,ke=A&&be&&re>0n&&!oe&&xe&&!fe,Ne=A&&be&&re>0n&&!oe&&pe&&xe&&he&&fe,je=ke&&Boolean(Pe),Ie=Ne&&Boolean(Ue),Se=(0,s.useMemo)(()=>{const e=parseFloat(ue);return Number.isFinite(e)&&0!==e?(e/q*100).toFixed(2):"0.00"},[ue]),Me=(0,s.useMemo)(()=>{const e=parseFloat(me);return Number.isFinite(e)?(e/365).toFixed(2):"0.00"},[me]),Ae=(0,s.useMemo)(()=>{if(!F)return"0";const e=Number(F);return Number.isFinite(e)?(e/100).toFixed(2):"0"},[F]),Be=(0,s.useMemo)(()=>{if(!L)return 0;const e=Number(L);return Number.isFinite(e)&&0!==e?Math.floor(e/86400):0},[L]),Te=(0,s.useMemo)(()=>{const e=Number(ue);return Number.isFinite(e)?e.toLocaleString(void 0,{maximumFractionDigits:4}):ue},[ue]),Ce=(0,s.useMemo)(()=>{const e=Number(me);return Number.isFinite(e)?e.toLocaleString(void 0,{maximumFractionDigits:4}):me},[me]),Ee=(0,s.useMemo)(()=>{if(null==ve)return null;const e=Number(ve);return Number.isFinite(e)?e.toLocaleString(void 0,{maximumFractionDigits:4}):ve},[ve]),Fe=(0,s.useMemo)(()=>t?`${t.slice(0,6)}...${t.slice(-4)}`:null,[t]),Le=(0,s.useCallback)(()=>{null===T||void 0===T||T(),null===E||void 0===E||E(),null===V||void 0===V||V(),null===Y||void 0===Y||Y()},[T,E,V,Y]),{config:Re}=(0,a.i8)({address:y?x:void 0,abi:M,functionName:"approve",args:re>0n&&f?[p,re]:void 0,chainId:P.chainId,enabled:Boolean(t)&&A&&re>0n&&de&&y&&h}),{writeAsync:Pe,data:$e,isLoading:qe,error:De}=(0,a.t4)(Re),{isLoading:_e}=(0,a.gJ)({hash:null===$e||void 0===$e?void 0:$e.hash,enabled:Boolean(null===$e||void 0===$e?void 0:$e.hash),onSuccess:()=>{u({type:"success",message:e("stakingApproveSuccess")}),null===V||void 0===V||V()},onError:t=>{u({type:"error",message:(null===t||void 0===t?void 0:t.shortMessage)||(null===t||void 0===t?void 0:t.message)||e("stakingError")})}}),Je=Boolean(t)&&f&&de&&he&&!ye&&A&&h&&ge&&xe&&pe,{config:Oe}=(0,a.i8)({address:f?p:void 0,abi:S,functionName:"stake",args:Je&&re>0n?[re]:void 0,chainId:P.chainId,enabled:Je}),{writeAsync:Ue,data:ze,isLoading:We,error:Xe}=(0,a.t4)(Oe),{isLoading:Ye}=(0,a.gJ)({hash:null===ze||void 0===ze?void 0:ze.hash,enabled:Boolean(null===ze||void 0===ze?void 0:ze.hash),onSuccess:()=>{u({type:"success",message:e("stakingStakeSuccess")}),d(""),Le()},onError:t=>{u({type:"error",message:(null===t||void 0===t?void 0:t.shortMessage)||(null===t||void 0===t?void 0:t.message)||e("stakingError")})}}),{config:He}=(0,a.i8)({address:f?p:void 0,abi:S,functionName:"unstake",chainId:P.chainId,enabled:Boolean(t)&&A&&f&&Z>0n}),{write:Ge,data:Ke,isLoading:Ve,error:Ze}=(0,a.t4)(He),{isLoading:Qe}=(0,a.gJ)({hash:null===Ke||void 0===Ke?void 0:Ke.hash,enabled:Boolean(null===Ke||void 0===Ke?void 0:Ke.hash),onSuccess:()=>{u({type:"success",message:e("stakingUnstakeSuccess")}),Le()},onError:t=>{u({type:"error",message:(null===t||void 0===t?void 0:t.shortMessage)||(null===t||void 0===t?void 0:t.message)||e("stakingError")})}}),{config:et}=(0,a.i8)({address:f?p:void 0,abi:S,functionName:"claimRewards",chainId:P.chainId,enabled:Boolean(t)&&A&&f&&Q>0n}),{write:tt,data:nt,isLoading:st,error:at}=(0,a.t4)(et),{isLoading:it}=(0,a.gJ)({hash:null===nt||void 0===nt?void 0:nt.hash,enabled:Boolean(null===nt||void 0===nt?void 0:nt.hash),onSuccess:()=>{u({type:"success",message:e("stakingClaimSuccess")}),Le()},onError:t=>{u({type:"error",message:(null===t||void 0===t?void 0:t.shortMessage)||(null===t||void 0===t?void 0:t.message)||e("stakingError")})}});(0,s.useEffect)(()=>{const t=[De,Xe,Ze,at].find(Boolean);t&&u({type:"error",message:(null===t||void 0===t?void 0:t.shortMessage)||(null===t||void 0===t?void 0:t.message)||e("stakingError")})},[De,Xe,Ze,at,e]);const rt=qe||_e||We||Ye||m||Ve||Qe||st||it,lt=rt||!je&&!Ie,ot=e(rt?"stakingProcessing":fe?"stakeButton":"stakingApproveButton");let dt=null;lt&&!rt&&(t?A?be&&b?ge&&pe&&xe?le?oe?dt="amount":he?(ke&&!je||Ne&&!Ie)&&(dt="loading"):dt="balance":dt="amount":dt="loading":dt="signer":dt="network":dt="connect");const ct={connect:e("stakingConnectPrompt"),network:e("stakingNetworkMismatch"),signer:e("stakingSignerMissing"),loading:e("stakingBalanceLoading"),amount:e("stakingEnterAmount",{min:ie}),balance:e("stakingInsufficientBalance"),pending:e("stakingProcessing")},ut=dt?ct[dt]:rt?e("stakingProcessing"):null,mt="loading"===dt||!dt&&rt?"text-emerald-300":"text-rose-400";(0,s.useEffect)(()=>{var e;const n=je||Ie,s=re.toString(),a=pe?ce.toString():String(W),r=xe?ee.toString():String(G);console.info(`[ACI/Staking] chain=${null!==(e=null===i||void 0===i?void 0:i.id)&&void 0!==e?e:"n/a"} user=${null!==t&&void 0!==t?t:"n/a"} token=${P.token} staking=${p} pool=0 amountWei=${s} minWei=${ae.toString()} bal=${a} allow=${r} ready=${n}`)},[null===i||void 0===i?void 0:i.id,t,p,0,re,ae,ce,W,ee,G,je,Ie,pe,xe]);const gt=[];f||gt.push(e("stakingConfigErrorContract")),x&&!y&&gt.push(e("stakingConfigErrorToken"));const pt=!n,xt=n&&!A;return(0,$.jsx)(j.A,{children:(0,$.jsx)("div",{className:"min-h-screen px-4 py-16 text-white sm:px-8",children:(0,$.jsxs)("div",{className:"mx-auto max-w-6xl space-y-10",children:[(0,$.jsxs)("header",{className:"space-y-4 text-center",children:[(0,$.jsx)("h1",{className:"text-3xl font-bold tracking-tight sm:text-4xl",children:e("stakingTitle")}),(0,$.jsx)("p",{className:"mx-auto max-w-2xl text-sm text-white/70 sm:text-base",children:e("stakingDesc")})]}),(0,$.jsxs)("section",{className:"space-y-6 rounded-3xl border border-white/15 bg-white/5 p-6 shadow-2xl shadow-black/40 backdrop-blur",children:[(0,$.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,$.jsxs)("div",{className:"space-y-1 text-balance",children:[(0,$.jsx)("h2",{className:"text-2xl font-semibold",children:"Mon portefeuille"}),(0,$.jsx)("p",{className:"text-sm text-white/70",children:null!==Fe&&void 0!==Fe?Fe:e("stakingConnectPrompt")})]}),(0,$.jsxs)("div",{className:"flex flex-col items-start gap-2 text-left md:items-end md:text-right",children:[(0,$.jsx)(N.pK,{chainStatus:"icon",showBalance:!1}),t&&(0,$.jsx)("button",{onClick:async()=>{if("undefined"!==typeof window&&window.ethereum)try{await window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:x,symbol:tokenSymbol,decimals:se}}})}catch(e){console.warn("wallet_watchAsset error",e)}},className:"rounded-full border border-white/20 px-4 py-2 text-xs uppercase tracking-[0.2em] text-white/80 hover:bg-white/10",children:"Ajouter ACI"})]})]}),(0,$.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,$.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-4",children:[(0,$.jsx)("p",{className:"text-xs text-white/60",children:e("stakingBalanceTitle")}),(0,$.jsxs)("p",{className:"mt-2 text-2xl font-semibold text-emerald-300",children:[null!==Ee&&void 0!==Ee?Ee:"0"," ACI"]})]}),(0,$.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-4",children:[(0,$.jsx)("p",{className:"text-xs text-white/60",children:"Allowance"}),(0,$.jsx)("p",{className:"mt-2 text-xl font-semibold text-white",children:xe?Number((0,w.Js)(ee,se)).toLocaleString(void 0,{maximumFractionDigits:4}):e("stakingBalanceLoading")})]}),(0,$.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-4",children:[(0,$.jsx)("p",{className:"text-xs text-white/60",children:e("statStakedTitle")}),(0,$.jsxs)("p",{className:"mt-2 text-xl font-semibold text-white",children:[Te," ACI"]})]})]})]}),(0,$.jsxs)("div",{className:"mx-auto max-w-3xl space-y-3",children:[pt&&(0,$.jsx)(I.A,{type:"info",message:e("stakingConnectPrompt")}),xt&&(0,$.jsx)(I.A,{type:"error",children:(0,$.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,$.jsx)("span",{children:e("stakingNetworkMismatch")}),r&&(0,$.jsx)("button",{onClick:()=>null===r||void 0===r?void 0:r(P.chainId),disabled:l||rt,className:"inline-flex items-center justify-center rounded-full bg-[#10b981] px-4 py-2 text-sm font-semibold text-black transition hover:bg-[#00fff7] disabled:cursor-not-allowed disabled:opacity-60",children:e(l?"networkSwitching":"networkSwitch")})]})}),gt.map(e=>(0,$.jsx)(I.A,{type:"error",message:e},e)),c&&(0,$.jsx)(I.A,{type:c.type,message:c.message})]}),(0,$.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[1.6fr_1fr]",children:[(0,$.jsxs)("div",{className:"rounded-3xl border border-[#10b981]/40 bg-gradient-to-br from-[#10b981]/20 via-black/50 to-black/80 p-6 sm:p-8 shadow-2xl shadow-[#10b981]/20",children:[(0,$.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,$.jsxs)("div",{children:[(0,$.jsx)("p",{className:"text-xs uppercase tracking-[0.45em] text-emerald-200/80",children:"ACI"}),(0,$.jsx)("h2",{className:"mt-1 text-2xl font-semibold text-emerald-100",children:e("statStakedTitle")})]}),Be>0&&(0,$.jsx)("span",{className:"rounded-full border border-[#10b981]/60 bg-black/30 px-4 py-1 text-xs text-emerald-200",children:e("stakingLockPeriod",{days:Be})})]}),(0,$.jsxs)("div",{className:"mt-6 grid gap-4 sm:grid-cols-3",children:[(0,$.jsx)(J,{label:e("statStakedTitle"),value:`${Te} ACI`,sub:Se?e("statPoolPercentSub",{staked:Te}):void 0}),(0,$.jsx)(J,{label:e("statTotalRewardTitle"),value:`${Ce} ACI`,sub:e("statCurrentRewardSub",{daily:Me})}),(0,$.jsx)(J,{label:e("statRateTitle"),value:`${Ae}%`,sub:e("statRateSub",{rate:Ae})})]})]}),(0,$.jsxs)("div",{className:"rounded-3xl border border-[#10b981]/30 bg-black/70 p-6 shadow-xl shadow-[#10b981]/10",children:[(0,$.jsx)("h3",{className:"text-lg font-semibold text-emerald-200 text-balance",children:e("stakingBalanceTitle")}),(0,$.jsx)("p",{className:"mt-2 text-sm text-white/70 leading-relaxed text-balance",children:null!=Ee?e("stakingBalanceValue",{balance:Ee}):e("pending"===W||"pending"===O?"stakingBalanceLoading":"stakingBalanceUnknown")}),we&&(0,$.jsx)("p",{className:"mt-1 text-xs text-white/50 leading-relaxed",children:e("stakingMinLabel",{min:ie})}),(0,$.jsxs)("div",{className:"mt-6 flex flex-col gap-3",children:[(0,$.jsx)("button",{onClick:()=>{!tt||st||it||(u({type:"info",message:e("stakingTxSubmitted")}),tt())},disabled:!tt||rt||0n===Q,className:"w-full rounded-full bg-[#10b981] px-5 py-2 text-sm font-semibold text-black transition hover:bg-[#00fff7] disabled:cursor-not-allowed disabled:opacity-50",children:e(st||it?"stakingProcessing":"claimButton")}),(0,$.jsx)("button",{onClick:()=>{!Ge||Ve||Qe||(u({type:"info",message:e("stakingTxSubmitted")}),Ge())},disabled:!Ge||rt||0n===Z,className:"w-full rounded-full bg-transparent px-5 py-2 text-sm font-semibold text-emerald-300 transition hover:bg-emerald-500/10 hover:text-emerald-200 disabled:cursor-not-allowed disabled:opacity-50 border border-emerald-300/60",children:e(Ve||Qe?"stakingProcessing":"unstakeButton")})]})]})]}),(0,$.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,$.jsx)(_,{title:e("statPoolPercentTitle"),value:`${Se}%`,sub:e("statPoolPercentSub",{staked:Te})}),(0,$.jsx)(_,{title:e("statCurrentRewardTitle"),value:e("statCurrentRewardSub",{daily:Me})}),(0,$.jsx)(_,{title:e("statTotalRewardTitle"),value:e("statTotalRewardSub",{pending:Ce})})]}),(0,$.jsxs)("div",{className:"rounded-3xl border border-[#10b981]/30 bg-black/70 p-6 sm:p-8 shadow-xl shadow-[#10b981]/10",children:[(0,$.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,$.jsxs)("div",{className:"text-balance",children:[(0,$.jsx)("h3",{className:"text-2xl font-semibold text-emerald-200",children:e("stakeButton")}),(0,$.jsx)("p",{className:"mt-1 text-sm text-white/60 leading-relaxed",children:e("stakingDesc")})]}),we&&(0,$.jsx)("span",{className:"rounded-full border border-[#10b981]/50 px-4 py-1 text-xs text-emerald-200",children:e("stakingMinNotice",{min:ie})})]}),(0,$.jsxs)("div",{className:"mt-6 flex flex-col gap-4 sm:flex-row sm:items-center",children:[(0,$.jsx)("input",{type:"number",min:"0",step:"0.0001",placeholder:"0.00",value:o,onChange:e=>d(e.target.value),disabled:!n||rt,className:"flex-1 rounded-2xl border border-white/15 bg-black/60 px-5 py-3 text-sm text-white placeholder-white/40 shadow-inner focus:border-[#10b981] focus:outline-none focus:ring-2 focus:ring-emerald-500/40"}),(0,$.jsx)("div",{className:"flex flex-1 flex-col gap-3 sm:flex-row sm:justify-end",children:(0,$.jsx)("button",{onClick:async()=>{if(t)if(A)if(ge&&xe&&pe)if(le)if(oe)u({type:"warning",message:e("stakingEnterAmount",{min:ie})});else if(he)if(b)if(h)if([0,1,2].includes(0))if(je||Ie)try{if(g(!0),je&&!fe){u({type:"info",message:e("stakingApproving")});const t=await Pe();await b.waitForTransactionReceipt({hash:t.hash});const n=await(null===V||void 0===V?void 0:V()),s=n&&null!=n.data?(()=>{try{return BigInt(n.data)}catch{return ee}})():ee;if(re>(null!==s&&void 0!==s?s:0n))throw new Error("Allowance still insufficient after approval.");return u({type:"success",message:e("stakingApproveSuccess")}),void(null===Y||void 0===Y||Y())}if(!Ie)throw new Error("Stake transaction not ready.");u({type:"info",message:e("stakingTxSubmitted")});const t=await Ue();await b.waitForTransactionReceipt({hash:t.hash}),u({type:"success",message:e("stakingStakeSuccess")}),d(""),Le()}catch(n){const t=(null===n||void 0===n?void 0:n.shortMessage)||(null===n||void 0===n?void 0:n.message)||("string"===typeof n?n:null)||e("stakingError");u({type:"error",message:t})}finally{g(!1)}else u({type:"warning",message:e("stakingError")});else u({type:"error",message:e("stakingPoolInvalid")});else u({type:"error",message:e("stakingSignerMissing")});else u({type:"error",message:e("stakingError")});else u({type:"warning",message:e("stakingInsufficientBalance")});else u({type:"warning",message:e("stakingEnterAmount",{min:ie})});else u({type:"info",message:e("stakingBalanceLoading")});else u({type:"error",message:e("stakingNetworkMismatch")});else u({type:"warning",message:e("stakingConnectPrompt")})},disabled:lt,className:"w-full rounded-full bg-[#10b981] px-5 py-2 text-sm font-semibold text-black transition hover:bg-[#00fff7] disabled:cursor-not-allowed disabled:opacity-60 sm:w-auto",children:ot})})]}),lt&&ut&&(0,$.jsx)("p",{className:`mt-2 text-xs ${mt}`,children:ut})]})]})})})}function _(e){let{title:t,value:n,sub:s}=e;return(0,$.jsxs)("div",{className:"min-w-0 rounded-3xl border border-[#10b981]/25 bg-black/60 p-6 shadow-lg shadow-[#10b981]/15",children:[(0,$.jsx)("p",{className:"text-xs uppercase tracking-[0.18em] text-emerald-200/80",children:t}),(0,$.jsx)("p",{className:"mt-3 text-2xl font-semibold text-white break-words",children:n}),s&&(0,$.jsx)("p",{className:"mt-2 text-sm text-white/60 leading-relaxed break-words",children:s})]})}function J(e){let{label:t,value:n,sub:s}=e;return(0,$.jsxs)("div",{className:"min-w-0 rounded-2xl border border-[#10b981]/35 bg-black/60 px-5 py-4 shadow-lg shadow-[#10b981]/10",children:[(0,$.jsx)("p",{className:"text-xs uppercase tracking-[0.2em] text-emerald-200/80 text-balance",children:t}),(0,$.jsx)("p",{className:"mt-3 text-2xl font-semibold text-white break-words",children:n}),s&&(0,$.jsx)("p",{className:"mt-2 text-xs text-white/60 leading-relaxed break-words text-balance",children:s})]})}},65566:(e,t,n)=>{n.d(t,{A:()=>r});n(9950);var s=n(74930),a=n(44414);const i={success:{Icon:s.A3x,classes:"border-green-500/40 bg-green-900/60 text-green-100"},info:{Icon:s.S8s,classes:"border-blue-500/40 bg-blue-900/60 text-blue-100"},warning:{Icon:s.eHT,classes:"border-amber-500/40 bg-amber-900/60 text-amber-100"},error:{Icon:s.hwE,classes:"border-red-500/40 bg-red-900/60 text-red-100"}};function r(e){let{type:t="info",title:n,message:s,children:r,className:l=""}=e;const o=i[t]||i.info,d=o.Icon,c=null!==s&&void 0!==s?s:r;return(0,a.jsxs)("div",{className:`flex items-start gap-3 rounded-2xl border px-4 py-3 text-sm shadow-lg shadow-black/20 backdrop-blur ${o.classes} ${l}`,children:[(0,a.jsx)(d,{className:"mt-0.5 h-5 w-5 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 leading-relaxed",children:[n&&(0,a.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide opacity-90",children:n}),"string"===typeof c?(0,a.jsx)("span",{children:c}):c]})]})}}}]);