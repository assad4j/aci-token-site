"use strict";(self.webpackChunkaci_presale_site=self.webpackChunkaci_presale_site||[]).push([[5298],{45298:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var r=s(9950),a=s(67818),l=s(44414);const n=(0,r.lazy)(()=>Promise.all([s.e(4894),s.e(4892)]).then(s.bind(s,34892)));function i(e){var t,s,i,o,d,u;let{orientation:x="video-left",title:m,description:h,messageSequence:g}=e;const{t:p,i18n:b}=(0,a.Bd)(),v=(0,r.useRef)(null),f=(0,r.useRef)(!1),[j,w]=(0,r.useState)(!1),[N,_]=(0,r.useState)(!1),y=(0,r.useMemo)(()=>{var e;return null!==(e=p("coach3DModule",{returnObjects:!0}))&&void 0!==e?e:{}},[p,b.language]),k=(0,r.useMemo)(()=>{var e;return null!==(e=p("coach3DModuleFallback",{returnObjects:!0}))&&void 0!==e?e:{}},[p,b.language]),A={coach:"text-emerald-300",user:"text-amber-300"},I=(0,r.useMemo)(()=>(Array.isArray(y.messages)&&y.messages.length?y.messages:Array.isArray(k.messages)?k.messages:[]).map(e=>{var t,s,r,a;return{role:null!==(t=e.role)&&void 0!==t?t:"coach",label:null!==(s=e.label)&&void 0!==s?s:"",text:null!==(r=e.text)&&void 0!==r?r:"",accent:null!==(a=A[e.role])&&void 0!==a?a:A.coach}}),[k,y.messages,b.language]),S=(0,r.useMemo)(()=>Array.isArray(g)&&g.length>0?g:I,[g,I,b.language]),z=null!==(t=null!==(s=null!==m&&void 0!==m?m:y.title)&&void 0!==s?s:k.title)&&void 0!==t?t:"Coach IA (d\xe9mo anim\xe9e)",C=null!==(i=null!==(o=null!==h&&void 0!==h?h:y.description)&&void 0!==o?o:k.description)&&void 0!==i?i:"Aper\xe7u du Coach IA : l\u2019astronaute \xe9change un court dialogue automatique pour illustrer l\u2019exp\xe9rience \xe0 venir. La version interactive (voix, \xe9motions, routines) sera bient\xf4t disponible.",M=null!==(d=null!==(u=y.scrollHint)&&void 0!==u?u:k.scrollHint)&&void 0!==d?d:"Faites d\xe9filer pour lancer la d\xe9mo",F="video-right"!==x,[q,E]=(0,r.useState)([]),[$,D]=(0,r.useState)(0),[H,O]=(0,r.useState)(""),[R,B]=(0,r.useState)(null);(0,r.useEffect)(()=>{E([]),D(0),O(""),B(null),f.current=!1,w(!1),_(!1);const e=v.current;e&&requestAnimationFrame(()=>{const t=e.getBoundingClientRect();t.top<window.innerHeight&&t.bottom>0&&(f.current=!0,w(!0),_(!0))})},[b.language]),(0,r.useEffect)(()=>{const e=v.current;if(!e||f.current)return;const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&!f.current&&(f.current=!0,w(!0)),e.isIntersecting&&_(!0)})},{threshold:.4});return t.observe(e),()=>t.disconnect()},[]),(0,r.useEffect)(()=>{if(!j)return;let e=!1;if($>=S.length)return B(null),void O("");const t=S[$],s=t.text;let r=0;B(t);const a=setInterval(()=>{if(!e&&(r+=1,O(s.slice(0,r)),r>=s.length)){if(clearInterval(a),e)return;E(e=>[...e,t]),B(null),setTimeout(()=>{e||(O(""),D(e=>e+1))},900)}},45);return()=>{e=!0,clearInterval(a)}},[S,j,$]);const W=(0,l.jsxs)("div",{className:"space-y-4 text-white/80",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold text-white",children:z}),(0,l.jsx)("p",{className:"leading-relaxed",children:C}),(0,l.jsx)("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-4 text-sm leading-relaxed text-white/80",children:(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[q.map(e=>(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:`font-semibold ${e.accent}`,children:e.label}),(0,l.jsx)("p",{className:"mt-1 text-white/75",children:e.text})]},`${e.role}-${e.text}`)),R&&(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:`font-semibold ${R.accent}`,children:R.label}),(0,l.jsxs)("p",{className:"mt-1 text-white/70",children:[H,(0,l.jsx)("span",{className:"ml-1 animate-pulse",children:"\u25ae"})]})]}),!R&&0===q.length&&(0,l.jsx)("p",{className:"text-xs uppercase tracking-[0.22em] text-white/40",children:M})]})})]}),L=F?"right":"left",P=(0,l.jsx)("div",{className:"mx-auto w-full max-w-[520px] min-[320px]:max-w-[420px] sm:max-w-[480px]",children:N?(0,l.jsx)(r.Suspense,{fallback:(0,l.jsx)(c,{}),children:(0,l.jsx)(n,{width:520,orientation:L})}):(0,l.jsx)(c,{})});return(0,l.jsx)("section",{ref:v,className:"mt-16 grid gap-8 lg:items-start "+(F?"lg:grid-cols-[520px_1fr]":"lg:grid-cols-[1fr_520px]"),children:F?(0,l.jsxs)(l.Fragment,{children:[P,W]}):(0,l.jsxs)(l.Fragment,{children:[W,P]})})}function c(){return(0,l.jsxs)("div",{className:"relative w-full",style:{maxWidth:"520px",minWidth:"min(280px, 100%)"},children:[(0,l.jsx)("div",{className:"pointer-events-none absolute inset-0 -z-20 rounded-[28px] bg-gradient-to-br from-[#52ffe6]/20 via-transparent to-[#fcd34d]/25 blur-[38px]"}),(0,l.jsx)("div",{className:"pointer-events-none absolute inset-[6%] -z-30 rounded-[48px] border border-white/5"}),(0,l.jsxs)("div",{className:"relative aspect-square w-full overflow-hidden rounded-[22px] border border-emerald-200/35 bg-[radial-gradient(65%_60%_at_50%_15%,rgba(255,220,128,0.22),rgba(6,10,18,0.9))] shadow-[0_25px_70px_-28px_rgba(16,185,129,0.65)]",children:[(0,l.jsx)("div",{className:"pointer-events-none absolute inset-0 z-0 bg-[linear-gradient(120deg,rgba(255,255,255,0.08)_0%,rgba(255,255,255,0)_35%,rgba(255,255,255,0.08)_70%)] opacity-50 mix-blend-screen"}),(0,l.jsx)("div",{className:"pointer-events-none absolute inset-0 z-0 bg-[radial-gradient(45%_45%_at_50%_20%,rgba(250,204,21,0.25),rgba(15,23,42,0))]"}),(0,l.jsxs)("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center gap-5 bg-black/35 px-6 text-center text-sm text-white/75 backdrop-blur",children:[(0,l.jsx)("div",{className:"inline-flex h-12 w-12 items-center justify-center rounded-full border border-emerald-200/30 bg-black/60",children:(0,l.jsx)("span",{className:"h-6 w-6 animate-spin rounded-full border-2 border-emerald-300 border-t-transparent"})}),(0,l.jsx)("p",{className:"max-w-[240px] text-sm text-white/80",children:"Chargement de la d\xe9mo 3D\u2026"}),(0,l.jsx)("p",{className:"text-xs text-white/55",children:"Initialisation du coach interactif"})]})]})]})}}}]);